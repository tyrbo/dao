#!/bin/bash
set -e

# Save some folder locations for easy access
CURRENT_DIR="$(pwd)"
SCRIPT_HOME="$(cd "$(dirname "$(readlink `which dev`)")" && pwd)"

# Parse commands
case "$1" in
  create)
    docker-machine create --driver virtualbox ls-dev
    docker-machine ssh ls-dev sudo "sed -r \"s/EXTRA_ARGS='(.*?)'/EXTRA_ARGS='\1 --bip 10.100.200.1\/24'/\" /var/lib/boot2docker/profile > tmp && sudo mv tmp /var/lib/boot2docker/profile"
    docker-machine ssh ls-dev sudo /etc/init.d/docker restart
    ;;

  start)
    docker-machine start ls-dev
    ;;

  stop)
    docker-machine stop ls-dev
    ;;

  kill)
    docker-machine kill ls-dev
    ;;

  rm)
    docker-machine rm ls-dev
    ;;

  ssh)
    docker-machine ssh ls-dev
    ;;

  env)
    docker-machine env ls-dev
    ;;
esac
